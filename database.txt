
CREATE TABLE `users` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `username` VARCHAR(50) NOT NULL UNIQUE,
  `fullname` VARCHAR(50) NOT NULL,
  `password` TEXT NOT NULL,
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `role` ENUM('admin','superadmin') DEFAULT 'admin'
);

CREATE TABLE `barang` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `nama` VARCHAR(50) NOT NULL,
  `deskripsi` TEXT,
  `jumlah` INT NOT NULL,
  `jumlah_tersedia` INT NOT NULL,
  `lokasi` VARCHAR(50),
  `kode` VARCHAR(50),
  `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE `transaksi` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `id_barang` INT NOT NULL,
  `peminjam` VARCHAR(50) NOT NULL,
  `jumlah` INT NOT NULL,
  `kategori` ENUM('pinjam','kembali') NOT NULL,
  `tanggal` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `catatan` TEXT,
  FOREIGN KEY (`id_barang`) REFERENCES `barang`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
);
